Refactor date handling and MongoDB filters

- Ensure type-safe date conversion before saving
- Fix MongoDB filters for accurate date comparisons
- Standardize all date types to `Date` class